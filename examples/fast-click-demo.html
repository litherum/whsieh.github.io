<html>
<meta name="viewport" content="width=device-width, user-scalable=no">

<head>
    <script>
    var timestamp;
    var startTime = 0;
    var clickCount = 0;

    function currentTime() {
        return Number(new Date());
    }

    function setup() {
        document.getElementById("target").addEventListener("click", handleSyntheticClick, false);
    }

    function handleSyntheticClick(event) {
        if (!startTime)
            startTime = currentTime();

        clickCount++;
        if (clickCount == 10)
            event.target.textContent = "Time to 10 clicks: " + ((currentTime() - startTime) / 1000) + " sec";
        else if (clickCount < 10)
            event.target.textContent = "Click count: " + clickCount;
        else {
            document.getElementById("target").addEventListener("touchend", function(e) {
                e.preventDefault();
            }, false);
        }
    }
    </script>

    <style>
    body {
        margin: 20px;
        font: 20px "Helvetica Neue", Helvetica, sans-serif;
        text-align: center;
    }

    button {
        width: 100%;
        height: 50%;
        font-size: 20px;
        margin: 2em auto;
    }
    
    h1 {
        padding-top: 2em;
        font-weight: normal;
        letter-spacing: -0.025em;
        color: #444444;
    }
    
    code {
        color: #777777;
        font-family: Menlo;
    }

    a:active {
        color: green;
    }
    </style>
</head>

<body onload="setup()">
<h1>Fast-tapping enabled</h1>
<button id="target">Click count: 0</button>
<code>&lt;meta name="viewport" content="width=device-width"&gt;</code>
</body>

</html>

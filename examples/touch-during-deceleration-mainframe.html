<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body {
        width: 100%;
        height: 1000vh;
        font-family: -apple-system;
        color: white;
        margin: 0;
        background-color: red;
        padding: 1em;
        box-sizing: border-box;
    }

    .description {
        position: fixed;
    }
</style>
<body>
    <div class="description">
        <p>To manually test, swipe down to scroll and, while decelerating, tap anywhere in the document. The background should turn green after the initial swipe, and <strong>not</strong> turn back to red after the tap.</p>
        <p>The touch start count is: <span id="touchStarts">0</span></p>
        <p>The touch end count is: <span id="touchEnds">0</span></p>
    </div>
</body>
<script>
window.touchstartEventCount = 0;
window.touchendEventCount = 0;

function touchCount() {
    return touchstartEventCount + touchendEventCount;
}

document.scrollingElement.scrollTop = 0;
document.addEventListener("touchstart", () => {
    ++touchstartEventCount;
    document.body.style.backgroundColor = (touchCount() % 2) ? "green" : "red";
    touchStarts.textContent = `${touchstartEventCount}`;
});
document.addEventListener("touchend", () => {
    ++touchendEventCount;
    document.body.style.backgroundColor = (touchCount() % 2) ? "green" : "red";
    touchEnds.textContent = `${touchendEventCount}`;
});
</script>
